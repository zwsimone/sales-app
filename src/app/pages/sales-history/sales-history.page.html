<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-menu-button></ion-menu-button>
		</ion-buttons>
		<ion-title>History</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-list inset="true">
		<ion-list-header>
			<ion-grid>
				<ion-row>
					<ion-col><h4>Date</h4></ion-col>
					<ion-col><h4>Invoice Number</h4></ion-col>
					<ion-col><h4>Order Total</h4></ion-col>
					<ion-col><h4>Payment Total</h4></ion-col>
				</ion-row>
			</ion-grid>
		</ion-list-header>
		<ion-accordion-group>
			<ng-container *ngFor="let record of history.list">
				<ion-accordion>
					<ion-item slot="header">
						<ion-grid>
							<ion-row>
								<ion-col
									>{{ record.saleDate | date: 'YYYY/mm/dd'
									}}</ion-col
								>
								<ion-col>{{ record.invoiceNumber }}</ion-col>
								<ion-col
									>R{{ record.orderTotal | number: '.2'
									}}</ion-col
								>
								<ion-col
									>R{{ record.paymentTotal | number: '.2'
									}}</ion-col
								>
							</ion-row>
						</ion-grid>
					</ion-item>
					<ion-list slot="content">
						<ion-grid>
							<ng-template [ngIf]="record.saleType === 'table'">
								<ion-row>
									<ion-col>Table Number</ion-col>
									<ion-col>{{ record.tableNumber }}</ion-col>
								</ion-row>
							</ng-template>
							<ion-row>
								<ion-col>Payment Method</ion-col>
								<ion-col>{{ record.paymentMethod }}</ion-col>
							</ion-row>
							<ion-row>
								<ion-col>Tips</ion-col>
								<ion-col
									>R{{ record.paymentTotal - record.orderTotal
									| number: '.2' }}</ion-col
								>
							</ion-row>
							<ng-template
								[ngIf]="record.saleType === 'delivery'"
							>
								<ion-row>
									<ion-col>Mobile Number</ion-col>
									<ion-col>{{ record.mobile }}</ion-col>
								</ion-row>
								<ion-row>
									<ion-col>Delivery Fee</ion-col>
									<ion-col
										>R{{ record.deliveryFee | number: '.2'
										}}</ion-col
									>
								</ion-row>
							</ng-template>
							<ion-row>
								<ion-col>Server Name</ion-col>
								<ion-col>{{ record.serverName }}</ion-col>
							</ion-row>
						</ion-grid>
					</ion-list>
				</ion-accordion>
			</ng-container>
		</ion-accordion-group>
	</ion-list>
</ion-content>
